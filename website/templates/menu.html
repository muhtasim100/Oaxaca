{% extends "base.html" %} {% block head %}
<title>Oaxaca - Menu</title>
<link
  rel="stylesheet"
  href="{{ url_for('static', filename='css/menu.css') }}"
/>

{% endblock %} 
{% block content %} 
<div class="card_grid">
{% for food in res %}
  <div id="{{ food.FoodID }}" class="food_container">
    <div class="icon">
      {% if food.GlutenFree==True %}
      <img src="{{ url_for('static', filename='images/menu/mdi_gluten-free.svg') }}" alt="Gluten_Icon" />
      {% endif %}

      {% if food.ContainsMeat==True %}
      <img src="{{ url_for('static', filename='images/menu/mdi_meat.svg') }}" alt="Meat_icon">
      {% endif %}
      
      {% if food.Vegan==True %}
      <img src="{{ url_for('static', filename='images/menu/Group.svg') }}" alt="Vegan_Icon">
      {% endif %} 
    </div>

    <div class="food_info">
      <div class="food_name">{{ food.FoodName }}</div>
  
      <div class="food_price">{{'%0.2f' % food.UnitPrice|float}}Â£</div>
      
      </div>
  </div>
{% endfor %}
</div>
{% endblock %}


{% block scripts %}
<script>
  $(".food_container").click(function () {
    $.ajax({
      url: '/add_cart',
      type: 'POST',
      data: {id: $(this).attr("id")},
      success: function(data) {
        $(".content").prepend('<div class="notification"><div class="notification-message"></div></div>');
        $(".notification-message").html("Added to cart!");
      },
      error: function(error) {
        console.log(error);
      }
    });
  });
</script>
{% endblock %}